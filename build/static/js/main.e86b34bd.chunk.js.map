{"version":3,"sources":["images/plane_fly_min.png","images/plane_fly_grey.png","images/plane_up.png","images/plane_down.png","components/ErrorIndicator/ErrorIndicator.jsx","components/ErrorIndicator/index.js","components/ErrorBoundry/index.js","components/ErrorBoundry/ErrorBoundry.jsx","actions/createAction.js","actions/index.js","reducers/index.js","sagas/index.js","store.js","components/PlaceInput/PlaceInput.jsx","components/PlaceInput/index.js","components/LuggageControl/LuggageControl.jsx","components/LuggageControl/index.js","services/FlightService.js","components/RouteForm/RouteForm.jsx","components/RouteForm/index.js","components/Ticket/Ticket.jsx","components/Ticket/index.js","components/Spinner/index.js","components/Spinner/Spinner.jsx","components/TicketsList/TicketsList.jsx","components/TicketsList/index.js","components/CartItem/CartItem.jsx","components/CartItem/index.js","styles/styled.jsx","components/EmptyCart/index.js","components/EmptyCart/EmptyCart.jsx","components/Cart/Cart.jsx","components/Cart/index.js","components/EmptySpace/EmptySpace.jsx","components/EmptySpace/index.js","components/Board/Board.jsx","components/Board/index.js","components/App/App.jsx","components/App/index.js","index.js"],"names":["module","exports","StyledIndicator","styled","div","ErrorIndicator","ErrorBoundry","state","hasError","this","setState","props","children","Component","createAction","type","payload","fetchDataRequest","fetchDataSuccess","fetchDataFailure","toggleTicket","sendCartToServerRequest","initialState","loading","error","tickets","cart","reserveTickets","length","map","item","reserved","ticketsHandler","toggledItem","find","id","console","log","filter","reducer","dataHandler","mySaga","put","takeEvery","sagaMiddleware","createSagaMiddleware","store","createStore","applyMiddleware","run","Input","input","direction","planeUp","planeDown","Text","PlaceInput","value","changeValue","onChange","e","StyledLuggageControl","Wrapper","Btn","Dec","Count","LuggageControl","weight","changeWeight","onClick","FlightService","_data","from","to","luggage","Promise","resolve","reject","setTimeout","Math","random","Error","filterTickets","filteredTickets","slice","toLowerCase","laggage_max","transformTickets","RouteForm","luggageWeight","flightService","handleChange","target","getTickets","then","data","catch","err","StyledRouteForm","mapDispathToProps","connect","StyledTicket","active","ImageBlock","WrapperCenter","Time","CityName","FlightTime","Stripe","Icon","img","Price","Ticket","duration","price","time_arrival","time_departure","addToCart","useState","setActive","parseDate","string","newString","replace","date","time","arrDate","arrTime","depDate","depTime","src","plane","Spinner","className","StyledTicketsList","TicketsList","args","key","StyledCartItem","CityRow","SumRow","Sum","span","CartItem","count","word","getRightWord","BigPlane","GrayText","EmptyCart","StyledCart","BuyBtn","Cart","items","sumCartItems","reduce","sum","current","idx","findIndex","push","cartItems","otherProps","StyledEmptySpace","EmptySpace","StyledBoard","Board","StyledApp","App","render","document","getElementById"],"mappings":"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","file":"static/js/main.e86b34bd.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAABS2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDAgNzkuMTYwNDUxLCAyMDE3LzA1LzA2LTAxOjA4OjIxICAgICAgICAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+LUNEtwAAAfhJREFUWIXt2DFoFEEUgOHv1ouGoLGxEJEQBRXFKiCIaKF2Fhb2IorYWFobUBDUQlCCCLYpvEYRBLGzMVaCYBRBC4kgkUMETcREEy1m77Ju7kwxd5sr9odjd2bfzP77ZmeGPUpKVpeKWn0zXmNNm5iHOFWc0r9U1Opb8XGFuN14W4DPMhIsYiEt/0lFJjGVibtWsFeTaq68iAP4igFMYwOOYxgfCnTDcsEsP3AFV9PyHVzv4L3nMSEkpS0VtfoW4R1MhKEewqf0eh++CFnsBlN4L0zEsVayiTB7k0xdNuiXzmYtzxCO4CZe4VA+oKJW78dL7BIyOCgMb4N1eIGNXRDsx6Zc3Qk8aBSq+Ik3qWAiPNGjTIM57NV+nYxhACdxAdvTuvvYiXcsDe2T9FjBjTadLXTh9x23sQdPM/e61zhpCI5jNj3fgUsrP3xHmcNRzKTlkbTcFJzF6UyDUdwVUl0UizgrbBZwhjBJskFjOJ9rWLOU3W6TCPt+RZiY+/KCcBkXCxL6H/MYTlpcGMVBPBbWwdViLfrabXXPcEzYf7cJS09/MV5N6vjcaoh7ilZD3FOUgrGUgrGUgrGUgrGUgrGUgrFU8RzrO9Tfb+ErbRK3cDiyv5kq9sda5RgRBM8J39RRVIW/PQZjO8ownR4nBNkYvkW2L+l9/gITxHGbW2JkzAAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAB+klEQVR4nO3dS07DMAAFwASxz/2P6ROUHSoobR3/Hc9ISFQIuvDzi+1GYdsAAAAAAIA7259fhBAeLd+PPo7j+P3+q/F71w4YF7UOAIPpEQAtMBANsLheAdACg9AAi+sZAC0wAA2wuO/E34s50ImZ4Y/Iv0UlGmBxNQMQO7OtBTrSAIurHQAtMDgNsLjUXcAV+xa/I1hd8x1RiwAQ72wSVA1Fq0uAvX66x9NXcdYAcykehJYB0ALlFAuCBphbdghaB0ALlJfVBhrgPpJC8D8ALWaoFqjncgg0wP1cCkGvgyAt8FnOAi/6PovUBnBsW9++5U2UqDFyCRhfbhDeOguAj3DHlBKEj2OkAeZTNAS5AdACfRS7JLwKgFX6+K6M0cuJWuISoAX6yZ6o7wJQJGEM43SMSi4ChaCPrBb4FIDi2w7GEtMAKSEQhLaSz25qngMIwgRiA5B7Ji0I9SWN0ZVPA2Pv739FCAZ09RLggOhmUtYAQjC3P02cuggUgpvI2QVU/ZyaNkpsA4VgYqXOAbTBpEofBAnCZGrdFfwcAvv/gbV6QMR/QtGPhgYAAAAAAAAAAAAAAAAAAAAAAAAAAACAIewhhNUf3b4fx3H6gxDCtt380fY1/3XsLN4N8K0Hf9sEYHkCsDgBWJwALE4AFicAixMAAAAAAACAG/sB0MNATp5bU9kAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAABS2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDAgNzkuMTYwNDUxLCAyMDE3LzA1LzA2LTAxOjA4OjIxICAgICAgICAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+LUNEtwAAArtJREFUWIXt11+IVVUUx/GPekNQE4JSAv9AD2lETCGCOGrTS4oo4UOopINCCAYhPiiC+mSgoCCYvjgViGIOCKFMDyn+wdKMSBS1SEQl9UnTUgQTzR7Wvno8917PHZs7KtwvHM6fvfbev732WnvvQ5MmTZo0lD46rzS6j7cxHS0YjwH4HmexGweehsChmIL5eLfA9jssxPlqhaWe1WUqPsAc4al6mIzf073Cm0UCx+LnApsWTEM7Xq9SfhVbxHT+mem3HR9jMF7AfryHg9nKtaa4DcvEqLpEDGV5BTOEt6bWEL4LW7EHN2vYwDG8k3l/H3vLL3kPTkzCsp1Ow3bMwwR8iJl4qUpnp/ElvsWZx4iCtzBbDDbLHozEH2WBQ5LxIpWeKjM7iR9WpewaOoW3fiwQRQx+WWovz9eprXIoKIl535EzPIeV6I+v0resuH+xDx0iC28UiOovEmeuyqz+K7WxBsfzFUv4Br9gTPrWgQU5m83p+TdsE1N+oUAUDBJLzRIMz5VdxyasF7NQlRLu4BP8lL69kbPpSI3dFCOth9ewGLPwcq7sFL4QIVFTWJlsFv+A1vTcnhroLq0iiT5F31zZCeGtLd1pMCtwnIdBfhEjutFOm5jGaktOF1bjSHeElcmO8qiHAofjszrqz8dhsQNkxf0jkmuSWBmeSByV6+DiJBSW4y42eDRWhiQxS1XG6y0RX2tx+UlFZam2k2wSSVPmb5G1tzEQH6V7lnNYh53o0dNHra1uFVbUUf+IWEM34n4P6npAPtPKrBT7bK3YOSiOU634XIPEUd958E2PLrLnxfGoV6jnPHg6XU+FWlP8zNAU+H955gWWMBr9eqm/y+L8B6MUJ+m9Ek7WYdhTHBIH1jYF/8OJu331njjCa/BqnfalEi7hxcboqeDXdL8m9vgiHvc32KRJk+eC/wD/SY6jwkRK+wAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAABS2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDAgNzkuMTYwNDUxLCAyMDE3LzA1LzA2LTAxOjA4OjIxICAgICAgICAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+LUNEtwAAA01JREFUWIXt11uIV1UUx/HPONPloQtFD2bQxUEUIrJsyN6CdKabFZEhJnSdArsZRIU9FUT0EkQURRYYFkWiFRlZU0IXiyioUOiqSGVXKhJKSp0e1j7Onj1n+v/HGY8RfuGw1z5rnfP//de+rH3Yz/+cDs/+VN57DUfhVrzeuKKCSUV/MuZgJgawFr1Ni8opBS4u+r1C5Cvoa0RRQS6wA5cn+098lvn6hMilDenaTS6wD8cm+x3MEII/zWKmNaRrN12ZfXNmL0/tk/hSCIbfmhCVU2VwhqE59gdWZDH5n9jRhKicSuBZYg7Co0XMgc3JGUmVnVNTO4jVRcwBmX11emYFPty70oIqg7NSuxMfFDHbM/sILEkxa3ENDm5C4Lep7cTpRczbuAgviz9Q0YvHsBn34oy9KfCt1HbgxCLmb7yA89CNu/BV5p+MO7Aeb2ABDpsogVUtnmVoaD/ByS2em5QE96e2rEi/iC1qOT6aCIGVsJOSfZ/ISjt0YxGuxHE1/jfFVHgRv49HYJ5FeAB3i2y0Q6fYS6/FhTX+H/A0nsCGdgV2mn9bZX+X2jNTO1sMYTd24YsW7xpMMc9gJb7G8Tgy+Q8RC2mx2Hd3YmN696jUnQeX4H5DG3fFx3hJDNX7LcTmXIr5uKTGtwV34qmxCITpYg4uMrzUVWzAMqwSmWqHaViIy4w8dDyM68cisOIYnCsqSLk/EsM0ILK6RmSkHRaIBOS7xQ14aKwCc3owL10za/w7xCJYJarM9pqYkqW4p/iNYZVsLAJLsf04H0fX+L8XlWcZ3m3xrsdxVbJXivk6boEVB+Fssa0sTP2SjYYW1/oa/+H4RqzyX8Veum2iBOZMwTlJ7Fz1h4j3xIpdI2p4xSO4Ltl9eLVylCVqPGwVw3UBTsAtRh7JZuNBbBKL66Z0//MsZtj2NpEZHI1TDC2u02r8m8SBZHrqzxXiGxOYM0dMgXnq6zaFwIkc4nYYwI2YKubravENlDOYd5oWWLFLfGdfLObrFXheDPWws2TTQ9yKKfgLP1c36ursvmRreWNfDXHb/OcFduE5oy/5nNuxTtTg/r0pKmNLl/qDZB1ThcCedDVBT5f4Jj60jeAfU7vZHnz87CHbWofs59/5B3FJseoWGa2iAAAAAElFTkSuQmCC\"","import React from 'react';\nimport styled from 'styled-components';\n\nconst ErrorIndicator = () => {\n  return (\n    <StyledIndicator>\n      Ошибка! Что-то пошло не так\n    </StyledIndicator>\n  );\n};\n\nconst StyledIndicator = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 100%;\n  min-height: 400px;\n  color: tomato;\n  font-size: 20px;\n`;\n\nexport default ErrorIndicator;","import ErrorIndicator from './ErrorIndicator';\nexport default ErrorIndicator;","import ErrorBoundry from './ErrorBoundry';\nexport default ErrorBoundry;","import React, { Component } from 'react';\nimport ErrorIndicator from '../ErrorIndicator';\n\nexport default class ErrorBoundry extends Component {\n\n  state = {\n    hasError: false\n  };\n\n  componentDidCatch() {\n    this.setState({ hasError: true });\n  }\n\n  render() {\n    if (this.state.hasError) {\n      return <ErrorIndicator />;\n    }\n\n    return this.props.children;\n  }\n}","export const createAction = (type) => (payload) => ({type, payload});\n\n","import { createAction } from './createAction';\n\nexport const FETCH_DATA_REQUEST = 'FETCH_DATA_REQUEST';\nexport const fetchDataRequest = createAction(FETCH_DATA_REQUEST);\n\nexport const FETCH_DATA_SUCCESS = 'FETCH_DATA_SUCCESS';\nexport const fetchDataSuccess = createAction(FETCH_DATA_SUCCESS);\n\nexport const FETCH_DATA_FAILURE = 'FETCH_DATA_FAILURE';\nexport const fetchDataFailure = createAction(FETCH_DATA_FAILURE);\n\nexport const TOGGLE_TICKET = 'TOGGLE_TICKET';\nexport const toggleTicket = createAction(TOGGLE_TICKET);\n\nexport const SEND_CART_TO_SERVER_REQUEST = 'SEND_CART_TO_SERVER_REQUEST';\nexport const sendCartToServerRequest = createAction(SEND_CART_TO_SERVER_REQUEST);\n\nexport const SEND_CART_TO_SERVER_SUCCESS = 'SEND_CART_TO_SERVER_SUCCESS';\nexport const sendCartToServerSuccess = createAction(SEND_CART_TO_SERVER_SUCCESS);","\nimport {\n  FETCH_DATA_REQUEST,\n  FETCH_DATA_SUCCESS,\n  FETCH_DATA_FAILURE,\n  TOGGLE_TICKET,\n  SEND_CART_TO_SERVER_REQUEST,\n  SEND_CART_TO_SERVER_SUCCESS\n} from '../actions';\n\nconst initialState = {\n  loading: false,\n  error: false,\n  tickets: [],\n  cart: []\n};\n\nfunction reserveTickets(cart) {\n  if (!cart.length) return [];\n  return cart.map(item => {\n    item.reserved = true;\n    return item;\n  });\n}\n\nfunction ticketsHandler(cart, payload) {\n  // Ищем выбранный билет в корзине\n  const toggledItem = cart.find(item => {\n    if (item.id === payload.id && item.reserved === false) {\n      return item;\n    }\n    return false;\n  });\n\n  // Если билет есть и не зарезервирован - удалить из корзины\n  if (toggledItem) {\n    console.log(cart, payload);\n    return [...cart].filter(item => {\n      if (!(toggledItem.id === item.id && item.reserved === false)) {\n        return item;\n      }\n      return false;\n    });\n  }\n  // Если билета нет - добавить в корзину\n  return [...cart, payload];\n}\n\nconst reducer = (state = initialState, { type, payload }) => {\n  switch(type) {\n    case FETCH_DATA_REQUEST:\n      return {\n        ...state,\n        loading: true,\n        cart: reserveTickets(state.cart)\n      };\n    case FETCH_DATA_SUCCESS:\n      return {\n        ...state,\n        loading: false,\n        error: false,\n        tickets: payload\n      };\n    case FETCH_DATA_FAILURE:\n      return {\n        ...state,\n        loading: false,\n        error: true,\n        tickets: []\n      }\n    case TOGGLE_TICKET:\n      return {\n        ...state,\n        cart: ticketsHandler(state.cart, payload)\n      };\n    case SEND_CART_TO_SERVER_REQUEST:\n      return {\n        ...state,\n        loading: true\n      }\n    case SEND_CART_TO_SERVER_SUCCESS: {\n      console.log(payload, 'данные отправлены');\n      return {\n        ...state,\n        loading: false,\n        tickets: [],\n        cart: []\n      };\n    }\n    default:\n      return state;\n  }\n};\n\nexport default reducer;","import { put, takeEvery } from 'redux-saga/effects';\n\nfunction* dataHandler({ payload }) {\n  yield put({type: 'SEND_CART_TO_SERVER_SUCCESS', payload});\n}\n\nfunction* mySaga() {\n  yield takeEvery('SEND_CART_TO_SERVER_REQUEST', dataHandler);\n}\n\nexport default mySaga;","import { createStore, applyMiddleware } from 'redux';\nimport createSagaMiddleware from 'redux-saga'\nimport reducer from './reducers';\nimport mySaga from './sagas';\n\nconst sagaMiddleware = createSagaMiddleware();\nconst store = createStore(reducer, applyMiddleware(sagaMiddleware));\n\nsagaMiddleware.run(mySaga);\n\nexport default store;","import React from 'react';\nimport styled from 'styled-components';\nimport planeUp from '../../images/plane_up.png';\nimport planeDown from '../../images/plane_down.png';\n\nconst PlaceInput = ({ value, direction, changeValue }) => {\n  return (\n    <div>\n      <Text>{direction === 'dep' ? 'Откуда' : 'Куда'}</Text>\n      <Input\n        type=\"text\"\n        direction={direction}\n        value={value || \"\"} \n        onChange={(e) => changeValue(e, direction)} />\n    </div>\n  );\n};\n\nconst Input = styled.input`\n  position: relative;\n  height: 20px;\n  width: 200px;\n  padding: 10px 5px 10px 45px;\n  outline: none;\n  border-radius: 4px;\n  border: none;\n  font-size: 15px;\n  background-color: #ffffff;\n  background-image: ${props => props.direction === 'dep' ? `url('${planeUp}')`: `url('${planeDown}')`};\n  background-repeat: no-repeat;\n  background-size: 10%;\n  background-position: 5% 50%;\n`;\n\nconst Text = styled.div`\n  margin-bottom: 5px;\n  font-size: 14px;\n  color: #ffffff;\n`;\n\nexport default PlaceInput;\n","import PlaceInput from './PlaceInput';\nexport default PlaceInput;","import React from 'react';\nimport styled from 'styled-components';\n\nconst LuggageControl = ({ weight = 0, changeWeight }) => {\n  return (\n    <StyledLuggageControl>\n      <Text>Багаж (кг)</Text>\n      <Wrapper>\n        <Btn onClick={() => changeWeight('inc')}>+</Btn>\n        <Count>{weight}</Count>\n        <Dec onClick={() => changeWeight('dec')}>—</Dec>\n      </Wrapper>\n    </StyledLuggageControl>\n  );\n};\n\nconst StyledLuggageControl = styled.div`\n  display: flex;\n  align-items: flex-start;\n  justify-content: center;\n  flex-direction: column;\n  width: 180px;\n  height: 80%;\n  padding: 20px 40px;\n  border-left: 1px solid #ffffff;\n  box-sizing: border-box;\n`;\n\nconst Text = styled.div`\n  margin-bottom: 5px;\n  font-size: 10px;\n  color: #ffffff;\n`;\n\nconst Wrapper = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  width: 100%;\n`;\n\nconst Btn = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 25px;\n  height: 25px;\n  line-height: 25px;\n  color: #65c7ff;\n  font-size: 22px;\n  background-color: #ffffff;\n  border-radius: 50%;\n  cursor: pointer;\n`;\n\nconst Dec = styled(Btn)`\n  font-size: 18px;\n`;\n\nconst Count = styled.div`\n  color: #ffffff;\n  font-size: 22px;\n`;\n\nexport default LuggageControl;","import LuggageControl from './LuggageControl';\nexport default LuggageControl;","export default class FlightService {\n  _data = [\n    {\n      \"id\": 1,\n      \"from\": \"Санкт-Петербург\",\n      \"to\": \"Москва\",\n      \"time_departure\": \"20-05-2018 8:20\",\n      \"time_arrival\": \"20-05-2018 9:20\",\n      \"price\": 40000,\n      \"laggage_max\": 5,\n      \"duration\": 3\n    },\n    {\n      \"id\": 2,\n      \"from\": \"Санкт-Петербург\",\n      \"to\": \"Москва\",\n      \"time_departure\": \"21-05-2018 9:20\",\n      \"time_arrival\": \"21-05-2018 10:20\",\n      \"price\": 50000,\n      \"laggage_max\": 8,\n      \"duration\": 3\n    },\n    {\n      \"id\": 3,\n      \"from\": \"Санкт-Петербург\",\n      \"to\": \"Москва\",\n      \"time_departure\": \"22-05-2018 9:20\",\n      \"time_arrival\": \"22-05-2018 10:20\",\n      \"price\": 60000,\n      \"laggage_max\": 12,\n      \"duration\": 3\n    },\n    {\n      \"id\": 4,\n      \"from\": \"Париж\",\n      \"to\": \"Лондон\",\n      \"time_departure\": \"22-05-2018 9:20\",\n      \"time_arrival\": \"22-05-2018 17:20\",\n      \"price\": 60000,\n      \"laggage_max\": 12,\n      \"duration\": 8\n    },\n    {\n      \"id\": 5,\n      \"from\": \"Париж\",\n      \"to\": \"Лондон\",\n      \"time_departure\": \"22-05-2018 9:20\",\n      \"time_arrival\": \"22-05-2018 17:20\",\n      \"price\": 20000,\n      \"laggage_max\": 4,\n      \"duration\": 8,\n    },\n    {\n      \"id\": 6,\n      \"from\": \"Париж\",\n      \"to\": \"Лондон\",\n      \"time_departure\": \"10-05-2018 9:20\",\n      \"time_arrival\": \"10-05-2018 17:20\",\n      \"price\": 65000,\n      \"laggage_max\": 6,\n      \"duration\": 8\n    },\n    {\n      \"id\": 7,\n      \"from\": \"Вашингтон\",\n      \"to\": \"Оттава\",\n      \"time_departure\": \"22-05-2018 9:20\", \n      \"time_arrival\": \"22-05-2018 17:20\", \n      \"price\": 60000,\n      \"laggage_max\": 5,\n      \"duration\": 15\n    },\n    {\n      \"id\": 8,\n      \"from\": \"Вашингтон\",\n      \"to\": \"Оттава\",\n      \"time_departure\": \"10-05-2018 9:20\",\n      \"time_arrival\": \"10-05-2018 17:20\",\n      \"price\": 50000,\n      \"laggage_max\": 5,\n      \"duration\": 16\n    },\n    {\n      \"id\": 9,\n      \"from\": \"Вашингтон\",\n      \"to\": \"Оттава\",\n      \"time_departure\": \"22-05-2018 9:20\",\n      \"time_arrival\": \"22-05-2018 17:20\",\n      \"price\": 90000,\n      \"laggage_max\": 5,\n      \"duration\": 16\n    }\n  ];\n\n  getTickets(from, to, luggage) {\n    return new Promise((resolve, reject) => {\n      setTimeout(() => {\n        if (Math.random() > 0.9) {\n          reject(new Error('Something went wrong'))\n        } else {\n          resolve(this.filterTickets(from, to, luggage));\n        }\n      }, 500);\n    })\n  }\n\n  filterTickets(from, to, luggage) {\n    // Отфильтровываем только соответствующие билеты\n    const filteredTickets = this._data.slice().filter(item => {\n      if (item.from.toLowerCase() === from.toLowerCase() \n          && item.to.toLowerCase() === to.toLowerCase()\n          && item.laggage_max >= luggage) {\n        return item;\n      }\n      return false;\n    });\n\n    return !filteredTickets.length ? [] : this.transformTickets(filteredTickets, luggage);\n  }\n\n  transformTickets(tickets, luggage) {\n    return tickets.map(item => {\n      item.luggage = luggage;\n      return item;\n    });\n  }\n}","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport styled from 'styled-components';\nimport PlaceInput from '../PlaceInput';\nimport LuggageControl from '../LuggageControl';\nimport { fetchDataRequest, fetchDataSuccess, fetchDataFailure } from '../../actions';\nimport FlightService from '../../services/FlightService';\n\nclass RouteForm extends Component {\n  state = {\n    from: '',\n    to: '',\n    luggageWeight: 0\n  };\n\n  flightService = new FlightService();\n\n  getTickets({ weight }) {\n    const { fetchDataRequest, \n      fetchDataSuccess, fetchDataFailure } = this.props;\n    const { from, to } = this.state;\n    \n    if (!from && !to) return;\n    \n    fetchDataRequest();\n    this.flightService.getTickets(from, to, weight)\n    .then(data => fetchDataSuccess(data))\n    .catch(err => fetchDataFailure(err));\n  }\n\n  handleChange = (e, direction) => {\n    if (direction === 'dep') {\n      this.setState({from: e.target.value});\n    } else {\n      this.setState({to: e.target.value});\n    }\n  };\n\n  changeWeight = (type) => {\n    let { luggageWeight } = this.state;\n    const step = 5;\n    if (type === 'inc') {\n      this.setState({luggageWeight: luggageWeight + step});\n      this.getTickets({weight: luggageWeight + step});\n    } else {\n      if (luggageWeight === 0) return;\n      this.setState({luggageWeight: luggageWeight - step});\n      this.getTickets({weight: luggageWeight - step});\n    }\n  };\n\n  render() {\n    const { from, to, luggageWeight } = this.state;\n\n    return (\n      <StyledRouteForm>\n        <PlaceInput \n          value={from} \n          direction={'dep'} \n          changeValue={this.handleChange} />\n        <PlaceInput \n          value={to} \n          direction={'arr'} \n          changeValue={this.handleChange} />\n        <LuggageControl weight={luggageWeight} changeWeight={this.changeWeight} />\n      </StyledRouteForm>\n    );\n  }\n}\n\nconst StyledRouteForm = styled.div`\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n  height: 200px;\n  background: linear-gradient(to right, #45adff, #65c7ff);\n`;\n\nconst mapDispathToProps = {\n  fetchDataRequest,\n  fetchDataSuccess,\n  fetchDataFailure\n};\n\nexport default connect(null, mapDispathToProps)(RouteForm);\n","import RouteForm from './RouteForm';\nexport default RouteForm;","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport plane from '../../images/plane_fly_min.png';\n\nconst Ticket = ({ id, duration, from, to, price, time_arrival, time_departure, luggage, addToCart }) => {\n\n  const [active, setActive] = useState(false);\n\n  function handleClick() {\n    setActive(!active);\n    addToCart({id, from, to, price, luggage});\n  }\n\n  function parseDate(string) {\n    const newString = string.slice(0, 10).replace(/-/g, '.');\n    return {\n      date: `${newString.slice(0,6)}${newString.slice(8)}`,\n      time: string.slice(11)\n    }\n  }\n\n  const { date: arrDate, time: arrTime } = parseDate(time_arrival);\n  const { date: depDate, time: depTime } = parseDate(time_departure);\n\n  return (\n    <StyledTicket onClick={handleClick} active={active}>\n      <Wrapper>\n        <Time>{arrTime}</Time>\n        <CityName>{from}</CityName>\n        <CityName>{arrDate}</CityName>\n      </Wrapper>\n      <WrapperCenter>\n        <ImageBlock>\n          <FlightTime>{`${duration}ч`}</FlightTime>\n          <Icon src={plane} />\n        </ImageBlock>\n        <Stripe />\n        <Price>{`${price} р`}</Price>\n      </WrapperCenter>\n      <Wrapper>\n        <Time>{depTime}</Time>\n        <CityName>{to}</CityName>\n        <CityName>{depDate}</CityName>\n      </Wrapper>\n    </StyledTicket>\n  );\n};\n\nconst StyledTicket = styled.div`\n  display: flex;\n  justify-content: space-between;\n  width: 400px;\n  margin-bottom: 20px;\n  padding: 25px;\n  border-radius: 4px;\n  box-shadow: 0 0 3px rgba(0,0,0,0.2);\n  border: ${props => props.active ? '2px solid #40adff' : '2px solid transparent'};\n  box-sizing: border-box;\n`;\n\nconst ImageBlock = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  width: 25px;\n`;\n\nconst Wrapper = styled.div`\n  width: auto;\n`;\n\nconst WrapperCenter = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: center\n`;\n\nconst Time = styled.div`\n  font-size: 20px;\n  font-weight: 600;\n  color: #40adff;\n`;\n\nconst CityName = styled.div`\n  font-size: 12px;\n  color: #dfdfdf;\n`;\n\nconst FlightTime = styled.div`\n  padding-right: 3px;\n  font-size: 12px;\n  color: #40adff;\n`;\n\nconst Stripe = styled.div`\n  position: relative;\n  width: 100px;\n  height: 2px;\n  background-color: #dfdfdf;\n  &:before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    width: 8px;\n    height: 8px;\n    margin: auto;\n    border-radius: 50%;\n    background-color: #dfdfdf;\n  }\n  &:after {\n    content: '';\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    width: 8px;\n    height: 8px;\n    margin: auto;\n    border-radius: 50%;\n    background-color: #dfdfdf;\n  }\n`;\n\nconst Icon = styled.img`\n  vertical-align: bottom;\n  width: 15px;\n  height: 15px;\n  fill: #dfdfdf;\n`;\n\nconst Price = styled.div`\n  font-size: 16px;\n  font-weight: 600;\n  color: #40adff;\n`;\n\nTicket.propTypes = {\n  duration: PropTypes.number.isRequired, \n  from: PropTypes.string.isRequired,\n  to: PropTypes.string.isRequired,\n  price: PropTypes.number.isRequired,\n  time_arrival: PropTypes.string.isRequired,\n  time_departure: PropTypes.string.isRequired,\n};\n\nexport default Ticket;","import Ticket from './Ticket';\nexport default Ticket;","import Spinner from './Spinner';\nexport default Spinner;","import React from 'react';\n\nimport './spinner.css';\n\nconst Spinner = () => {\n  return (\n    <div className=\"lds-css ng-scope\">\n      <div className=\"lds-double-ring\">\n        <div></div>\n        <div></div>\n      </div>\n    </div>\n  );\n};\n\nexport default Spinner;","import React from 'react';\nimport { connect } from 'react-redux';\nimport styled from 'styled-components';\nimport { toggleTicket } from '../../actions';\nimport Ticket from '../Ticket';\nimport ErrorIndicator from '../ErrorIndicator';\nimport Spinner from '../Spinner';\n\nconst TicketsList = ({ tickets, toggleTicket, error, loading }) => {\n\n  if (error) {\n    return <ErrorIndicator />\n  }\n\n  if (loading) {\n    return <Spinner />\n  }\n\n  const addToCart = (args) => {\n    toggleTicket({...args, reserved: false});\n  };\n\n  return (\n    <StyledTicketsList>\n      {tickets.map(item => {\n        return <Ticket \n                key={item.id} \n                {...item} \n                addToCart={addToCart} />;\n      })}\n    </StyledTicketsList>\n  );\n};\n\nconst StyledTicketsList = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 30px 20px;\n  min-height: 500px;\n`;\n\nexport default connect(null, { toggleTicket })(TicketsList);","import TicketsList from './TicketsList';\nexport default TicketsList;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport plane from '../../images/plane_fly_min.png';\n\nconst CartItem = ({ from, to, price, count }) => {\n  const getRightWord = (count) => {\n    switch(count) {\n      case 1:\n        return 'билет';\n      case 2:\n      case 3:\n      case 4:\n        return 'билета';\n      default:\n        return 'билетов';\n    }\n  };\n\n  const word = getRightWord(count);\n  return (\n    <StyledCartItem>\n      <CityRow>\n        <CityName>{from}</CityName>\n        <Icon src={plane} />\n        <CityName>{to}</CityName>\n      </CityRow>\n      <SumRow>\n        <Sum>{count}</Sum>\n        <Text>{`${word} на сумму`}</Text>\n        <Sum>{`${price * count} р`}</Sum>\n      </SumRow>\n    </StyledCartItem>\n  );\n};\n\nconst StyledCartItem = styled.div`\n  display: flex;\n  flex-direction: column;\n  padding: 25px;\n  border-bottom: 1px solid #dfdfdf;\n`;\n\nconst CityRow = styled.div`\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n`;\n\nconst SumRow = styled.div`\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n  flex-wrap: nowrap;\n  margin-top: 10px;\n  color: #c7c7c7;\n`;\n\nconst CityName = styled.div`\n  font-size: 16px;\n  color: #646464;\n`;\n\nconst Sum = styled.div`\n  font-size: 15px;\n  font-weight: 600;\n  color: #5dc1ff;\n`;\n\nconst Icon = styled.img`\n  width: 12px;\n  height: 12px;\n`;\n\nconst Text = styled.span`\n  margin: 0 5px;\n`;\n\nCartItem.propTypes = {\n  from: PropTypes.string.isRequired,\n  to: PropTypes.string.isRequired,\n  price: PropTypes.number.isRequired,\n  count: PropTypes.number.isRequired,\n};\n\nexport default CartItem;","import CartItem from './CartItem';\nexport default CartItem;","import styled from 'styled-components';\n\nconst BigPlane = styled.img`\n  display: block;\n  width: 60px;\n`;\n\nconst GrayText = styled.span`\n  font-size: 16px;\n  color: #f1f1f1;\n`;\n\nexport { BigPlane, GrayText };","import EmptyCart from './EmptyCart';\nexport default EmptyCart;","import React from 'react';\nimport { BigPlane, GrayText } from '../../styles/styled';\nimport plane from '../../images/plane_fly_grey.png';\n\nconst EmptyCart = () => {\n  return (\n    <>\n      <BigPlane src={plane} />\n      <GrayText>Корзина пуста</GrayText>\n    </>\n  );\n};\n\nexport default EmptyCart;","import React from 'react';\nimport { connect } from 'react-redux';\nimport styled from 'styled-components';\nimport { sendCartToServerRequest } from '../../actions';\nimport CartItem from '../CartItem';\nimport EmptyCart from '../EmptyCart';\n\nconst Cart = ({ items, sendCartToServerRequest }) => {\n  \n  // Суммируем одинаковые билеты\n  const sumCartItems = items.reduce((sum, current) => {\n    current.count = 1;\n    if (sum.length) {\n      const idx = sum.findIndex(item => (item.id === current.id && item.luggage === current.luggage));\n      if (idx !== -1) {\n        sum[idx].count++;\n        return sum;\n      }\n    }\n    sum.push(current);\n    return sum;\n  }, []);\n\n  function sendData() {\n    const data = prepareData();\n    sendCartToServerRequest(data);\n  }\n\n  function prepareData() {\n    return sumCartItems.map(({ id, luggage, count }) => ({id, luggage, count}));\n  }\n\n  const cartItems = sumCartItems.map(({ id, luggage, ...otherProps }) => {\n    return <CartItem key={`${id + luggage}`} {...otherProps} />;\n  });\n\n  return (\n    <StyledCart>\n      {sumCartItems.length \n      ?\n      <>\n        {cartItems}\n        <BuyBtn onClick={sendData}>Купить</BuyBtn>\n      </>\n      : <EmptyCart />}\n    </StyledCart>\n  );\n};\n\nconst StyledCart = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  border-left: 1px solid #f1f1f1;\n  min-height: 400px;\n  height: 100%;\n  width: 310px;\n  padding: 25px;\n`;\n\nconst BuyBtn = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  align-self: center;\n  width: 100%;\n  height: 60px;\n  margin: auto 20px 5px 20px;\n  font-size: 20px;\n  color: #ffffff;\n  border-radius: 4px;\n  background-color: #5dc1ff;\n  cursor: pointer;\n`;\n\nexport default connect(null, { sendCartToServerRequest })(Cart);","import Cart from './Cart';\nexport default Cart;","import React from 'react';\nimport styled from 'styled-components';\nimport { connect } from 'react-redux';\nimport { BigPlane, GrayText} from '../../styles/styled';\nimport plane from '../../images/plane_fly_grey.png';\nimport ErrorIndicator from '../ErrorIndicator';\nimport Spinner from '../Spinner';\n\nconst EmptySpace = ({ error, loading }) => {\n\n  if (error) {\n    return <ErrorIndicator />\n  }\n\n  if (loading) {\n    return <Spinner />\n  }\n  \n  return (\n    <StyledEmptySpace>\n      <BigPlane src={plane} />\n      <GrayText>Начните поиск билетов</GrayText>\n    </StyledEmptySpace>\n  );\n};\n\nconst StyledEmptySpace = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 400px;\n`;\n\nfunction mapStateToProps(state) {\n  return {\n    error: state.error,\n    loading: state.loading\n  };\n}\n\nexport default connect(mapStateToProps)(EmptySpace);","import EmptySpace from './EmptySpace';\nexport default EmptySpace;","import React from 'react';\nimport { connect } from 'react-redux';\nimport styled from 'styled-components';\nimport TicketsList from '../TicketsList';\nimport Cart from '../Cart';\nimport EmptySpace from '../EmptySpace';\n\nconst Board = ({ tickets, cartItems, loading, error }) => {\n  return (\n    <StyledBoard>\n      {tickets.length || cartItems.length\n      ?\n      <>\n        <TicketsList \n          tickets={tickets} \n          loading={loading} \n          error={error} />\n        <Cart items={cartItems} />\n      </>\n      : <EmptySpace />}\n    </StyledBoard>\n  );\n}\n\nconst StyledBoard = styled.div`\n  display: flex;\n`;\n\nfunction mapStateToProps(state) {\n  return {\n    tickets: state.tickets,\n    cartItems: state.cart,\n    loading: state.loading,\n    error: state.error\n  }\n}\n\nexport default connect(mapStateToProps)(Board);","import Board from './Board';\nexport default Board;","import React from 'react';\nimport styled from 'styled-components';\nimport RouteForm from '../RouteForm';\nimport Board from '../Board';\n\nconst App = () => {\n  return (\n    <StyledApp>\n      <RouteForm />\n      <Board />\n    </StyledApp>\n  );\n};\n\nconst StyledApp = styled.div`\n  display: flex;\n  flex-direction: column;\n  max-width: 800px;\n  margin: 0 auto;\n`;\n\nexport default App;","import App from './App';\nexport default App;","import React from 'react';\nimport { render } from 'react-dom';\nimport { Provider } from 'react-redux';\nimport ErrorBoundry from './components/ErrorBoundry';\nimport store from './store';\nimport App from './components/App';\n\nrender(\n  <Provider store={store}>\n    <ErrorBoundry>\n      <App />\n    </ErrorBoundry>\n  </Provider>,\n  document.getElementById('root')\n);"],"sourceRoot":""}